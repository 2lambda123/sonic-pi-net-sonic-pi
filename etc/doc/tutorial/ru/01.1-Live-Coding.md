1.1 Live Coding

# Живое кодирование

Один из самых захватывающих аспектов Sonic Pi является то, что с ним ты пишешь
и *правишь код вживую*, чтобы создавать музыку. Это похоже на настоящее выступление
с гитарой. Значит, при достаточной тренировке ты мог бы взять и Sonic Pi с собой
на сцену и устроить концерт.

## Освободи свой разум

Прежде, чем мы перейдем к деталям того, как Sonic Pi работает, я бы хотел поделиться
с тобой личным опытом того, что значит "кодировать вживую". Не переживай, если ты
пока чего-то (или ничего) не понимаешь из этого. Просто держись покрепче и получай
удовольствие...

## Живая петля

Для начала скопируй следующий код в пустой буфер сверху:

```
live_loop :flibble do
  sample :bd_haus, rate: 1
  sleep 0.5
end
```

Теперь нажми кнопку `Run`, и ты услышишь приятный быстрый барабанный бой. Нажми
кнопку `Stop`, чтобы остановить звук в любой момент. Но не нажимай ее пока что...
Вместо этого сделай вот что:

1. Убедись, что барабан по-прежнему звучит
2. Измени значение `sleep` с `0.5` на что-нибудь выше, например `1`
3. Снова нажми кнопку `Run`
4. Видишь, теперь темп барабана поменялся
5. Наконец, *запомни этот момент* - это первый и вряд ли последний раз, когда ты
кодировал вживую на Sonic Pi...

Ладно, это было довольно просто. Давай что-нибудь добавим в наш рецепт. Сверху
от `sample :bd_haus` добавь строку `sample :ambi_choir, rate: 0.3`. Твой код должен
выглядеть так:

```
live_loop :flibble do
  sample :ambi_choir, rate: 0.3
  sample :bd_haus, rate: 1
  sleep 1
end
```

Теперь попробуй себя. Меняй темп (значения `rate:`) - что проиходит, когда ты
ставишь маленькие или большие числа, или отрицательные? Проверь, что получится,
когда изменяешь `rate:` для `:ambi_choir` сэмпла совсем чуть-чуть (например до 0.29)?
Что произойдет, если выбрать крохотное значение для `sleep`? Проверь получится ли
заставить его играть так быстро, что компьютер выдаст ошибку, потому что он не
может поспеть за ним (если это все же произошло, то просто выбери значение побольше
для `sleep` и снова нажми `Run`).

Попробуй закомментировать одну из строк с `sample`. Для этого добавь `#` в ее
начало:

```
live_loop :flibble do
  sample :ambi_choir, rate: 0.3
#  sample :bd_haus, rate: 1
  sleep 1
end

```

Обрати внимание, как он заставляет компьютер пропустить ее, и мы не слышим звука.
Это называется комментарием. В Sonic Pi мы можем использовать комментарии, чтобы
убирать или добавлять что-либо из композиции.

Напоследок, позволь мне оставить кое-что забавное, с чем можно поиграть, для тебя.
Возьми код, приведенный ниже, и скопируй его в свободный буфер. Не пытайся пока
что полностью разобраться в нем. Просто обрати внимание, что в нем две петли -
то есть две вещи играют по кругу в то же самое время. Теперь твой черед делать то,
что получается у тебя лучше всего - экспериментировать и развлекаться. Вот пара
советов:

* Попробуй поменять синее значение `rate:`, чтобы услышать изменения в звуке
* Попробуй изменить время для `sleep` и выясни, как обе петли повторяются по кругу с
разными темпами
* Попробуй раскомментировать строку с `sample` (убери знак `#`) и наслаждайся
звуками гитары на заднем плане
* Попробуй поменять синее значение любого из `mix:` на число в промежутке от `0`
(что соответствует исключению из сочетания) до `1` (полностью сочетается)


Не забывай нажимать `Run`, и ты услышишь изменения следующий раз, когда петля
начитается заново. Не расстраивайся, если в конце музыка будет испорчена. Нажми
`Stop`, удали код из буфера, вставь свежую копию, и ты снова готов к творчеству.
Ошибки - то, как ты выучишься быстрее всего...


```
live_loop :guit do
  with_fx :echo, mix: 0.3, phase: 0.25 do
    sample :guit_em9, rate: 0.5
  end
#  sample :guit_em9, rate: -0.5
  sleep 8
end

live_loop :boom do
  with_fx :reverb, room: 1 do
    sample :bd_boom, amp: 10, rate: 1
  end
  sleep 8
end
```

Продолжай играть и экспериментировать до тех пор, пока тебе не станет любопытно,
а как оно на самом деле работает, и ты не начнешь думать, что еще можно сделать.
Тогда ты будешь готов к чтению оставшейся части этого учебника.

Так чего же ты ждешь...
