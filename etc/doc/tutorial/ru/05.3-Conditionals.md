5.3 Conditionals

# Условные выражения

Зачастую ты будешь обнаруживать, что хочешь не только играть случайные ноты (см.
предыдущую главу), но и принимать произвольные решения, а также выполнять либо
одну, либо другую ветку кода в зависимости от результата. Например, ты можешь
случайно решить сыграть звук барабана или тарелки. Мы можем достичь этого при
помощи выражения `if`.

## Подбрасывание монетки

Итак, давай подбросим монетку: орел - играем на барабане, решка - бьем по тарелке.
Это просто. Можно сымитировать это действие, используя функцию `one_in` (представлена
в разделе, посвященном случайности) с вероятностью один из двух: `one_in(2)`. Затем
мы можем использовать результатом этого, чтобы выбрать один из двух участков кода,
один для звука барабана, а другой - тарелки:

```
loop do

  if one_in(2)
    sample :drum_heavy_kick
  else
    sample :drum_cymbal_closed
  end

  sleep 0.5

end
```

Отметим, что выражение `if` состоит из трех частей:

* Вопрос, на который нужно получить ответ
* Первый вариант исполняемого кода (выбирается, если ответ на вопрос "Да")
* Второй вариант исполняемого кода (если ответ "Нет")

Обычно, в программных языках ответ "Да" представлен термином `true` (истина),
и `false` (ложь) означает "Нет". То есть нам нужно задать вопрос, который дает
`true` или `false` ответ. Это именно то, что делает `one_in`.

Обрати внимание как первый вариант действия размещается между `if` и `else`, а
второй вариант находится между `else` и `end`. Как и в блоках do/end, допускается
многострочный код. Например:

```
loop do

  if one_in(2)
    sample :drum_heavy_kick
    sleep 0.5
  else
    sample :drum_cymbal_closed
    sleep 0.25
  end

end
```

В этом случае мы добавляем задержку в течение разного количества времени в
зависимости от сделанного выбора.

## Простое условие

Иногда тебе требуется условно выполнить всего лишь одну строчку кода. Это возможно,
если написать `if` и сразу же твой вопрос. Например:

```
use_synth :dsaw

loop do
  play 50, amp: 0.3, release: 2
  play 53, amp: 0.3, release: 2 if one_in(2)
  play 57, amp: 0.3, release: 2 if one_in(3)
  play 60, amp: 0.3, release: 2 if one_in(4)
  sleep 1.5
end
```

Если запустить, то будут звучать различные аккорды, в котором вероятность каждой
ноты будет различна.
