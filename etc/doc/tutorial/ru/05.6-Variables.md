5.6 Variables

# Переменные

Присваивание имен полезно для твоего кода. С Sonic Pi это очень просто. Ты пишешь
желаемое имя, знак равенства, а затем то, что нужно запомнить:

```
sample_name = :loop_amen
```

В этом примере мы 'запомнили' обозначение `:loop_amen` в переменной `sample_name`.
Теперь мы можем пользоваться `sample_name` везде, где мы могли бы указать
`:loop_amen`. Например:

```
sample_name = :loop_amen
sample sample_name
```

Есть три главных причины для использования переменных в Sonic Pi: сообщение
значения, управление повторами и захват результатов операций.

## Сообщение значения

Когда ты пишешь код, то легко представить будто ты говоришь компьютеру как сделать
что-то. Пока компьютер понимает его - все в порядке. Все же, важно помнить, что
код читает не только компьютер. Другие люди возможно захотят прочесть его тоже и
попробовать разобраться, что в нем происходит. Скорее всего и ты сам будешь читать и
пытаться понять свой собственный код в будущем. Сейчас все кажется очевидным, но
для остальных или же тебя самого в дальнейшем это может измениться!

Одним из способов помочь другим понять, что делает твой код, - это оставлять
комментарии (как мы это видели в предыдущей главе). Еще один - давать осмысленные
имена переменным. Посмотри на этот код:

```
sleep 1.7533
```

Зачем указано число `1.7533`? Откуда оно взялось? Что оно означает? Теперь взгляни
на этот пример:

```
loop_amen_duration = 1.7533
sleep loop_amen_duration
```

Вот теперь все намного яснее, что значит `1.7533`. Это же продолжительность сэмпла
`:loop_amen`! Конечно, ты мог бы заметить, а почему бы просто не написать так:

```
sleep sample_duration(:loop_amen)
```

Это, безусловно, очень хороший способ выразить намерения кода.

## Управление повторами

Часто ты видишь много повторений в своем коде. Когда необходимо что-то поменять,
то делать это приходится во многих местах. Посмотри на следующий код:

```
sample :loop_amen
sleep sample_duration(:loop_amen)
sample :loop_amen, rate: 0.5
sleep sample_duration(:loop_amen, rate: 0.5)
sample :loop_amen
sleep sample_duration(:loop_amen)
```

Много чего мы делаем с `:loop_amen`! Что если мы захотим послушать как это будет
звучать с другим замкнутым сэмплом, таким как `:loop_garzul`? Пришлось бы найти
и заменить все `:loop_amen` на `:loop_garzul`. Можно этим заняться, если больше
делать нечего. А как насчет живого выступления? Иногда время - это непозволительная
роскошь. Особенно, если ты хочешь, чтобы люди продолжали танцевать.

Ну, а если бы ты записал свой код так:

```
sample_name = :loop_amen
sample sample_name
sleep sample_duration(sample_name)
sample sample_name, rate: 0.5
sleep sample_duration(sample_name, rate: 0.5)
sample sample_name
sleep sample_duration(sample_name)
```

Он делает совершенно то же самое (попробуй сам). Зато тут есть возможность запросто
поправить одну строку `sample_name = :loop_amen` на `sample_name = :loop_garzul`,
что реально приведет к изменениям во многих местах. Вот что дает нам магия переменных.

## Захват результатов

Наконец, хороший повод использовать переменные - захватывать результат чего-нибудь.
К примеру, тебе понадобится что-то сделать с продолжительностью сэмпла:

```
sd = sample_duration(:loop_amen)
```

Теперь можно вставлять `sd` везде, где нам нужна длительность сэмпла `:loop_amen`.

Вероятно, еще более важно то, что переменная разрешает нам сохранить результат
вызова `play` или `sample`:

```
s = play 50, release: 8
```

Мы захватили и запомнили `s` как переменную, которая позволяет управляет синтом
пока он играет:

```
s = play 50, release: 8
sleep 2
control s, note: 62
```

В следующей главе мы рассмотрим подробнее управление синтами.
